(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13c72344"],{"251f":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("Top"),a("div",{attrs:{id:"Wrapper"}},[a("div",{staticClass:"content"},[a("div",{attrs:{id:"Leftbar"}}),t._m(0),a("div",{attrs:{id:"Main"}},[a("div",{staticClass:"sep20"}),a("div",{staticClass:"box",attrs:{id:"box"}},[a("div",{staticClass:"cell"},[a("a",{attrs:{href:"/"}},[t._v(t._s(t.$store.state.user.user_name))]),a("span",{staticClass:"chevron"},[t._v(" › ")]),t._v(" 发表新帖 ")]),a("form",{attrs:{method:"post",action:"/new",id:"compose"}},[t._m(1),a("div",{staticClass:"cell",staticStyle:{padding:"0px"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"msl",attrs:{rows:"1",maxlength:"120",id:"topic_title",name:"title",autofocus:"autofocus",placeholder:"请输入帖子标题，如果标题能够表达完整内容，则正文可以为空"},domProps:{value:t.title},on:{input:function(s){s.target.composing||(t.title=s.target.value)}}})]),t._m(2),a("form",{attrs:{action:""}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{name:"post",cols:"100",rows:"10"},domProps:{value:t.text},on:{input:function(s){s.target.composing||(t.text=s.target.value)}}})]),a("div",{staticClass:"cell"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.select,expression:"select"}],staticClass:"select2-hidden-accessible",staticStyle:{width:"300px","font-size":"14px"},attrs:{name:"node_name",id:"nodes","data-select2-id":"nodes",tabindex:"-1","aria-hidden":"true"},on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.select=s.target.multiple?a:a[0]}}},t._l(t.ArticleTypes,(function(s){return a("option",{key:s,domProps:{value:s.type_id}},[t._v(t._s(s.type_name))])})),0),t._m(3)]),a("input",{attrs:{type:"hidden",name:"content",value:"",id:"topic_content"}}),a("input",{attrs:{type:"hidden",name:"once",value:"97891"}})]),a("div",{staticClass:"cell"},[a("div",{staticClass:"fr"},[a("span",{attrs:{id:"error_message"}}),t._v(" "),a("button",{staticClass:"super normal button",attrs:{type:"button"},on:{click:t.post}},[a("li",{staticClass:"fa fa-paper-plane"}),t._v(" 发布 ")])]),t._m(4)])])])]),a("div",{staticClass:"c"}),a("div",{staticClass:"sep20"})]),t._m(5)],1)},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"Rightbar"}},[a("div",{staticClass:"sep20"}),a("div",{staticClass:"box"},[a("div",{staticClass:"cell"},[t._v("发帖提示")]),a("div",{staticClass:"inner"},[a("ul",{staticStyle:{"margin-top":"0px"}},[a("li",[a("span",{staticClass:"f13"},[t._v("主题标题")]),a("div",{staticClass:"sep10"}),t._v("请在标题中描述内容要点。 "),a("div",{staticClass:"sep10"})]),a("li",[a("div",{staticClass:"fr",staticStyle:{"margin-top":"-5px","margin-right":"5px"}}),a("span",{staticClass:"f13"},[t._v("正文")]),a("div",{staticClass:"sep10"}),t._v("可以在正文中为你要发布的主题添加更多细节。 "),a("div",{staticClass:"sep10"})]),a("li",[a("span",{staticClass:"f13"},[t._v("选择板块")]),a("div",{staticClass:"sep10"}),t._v("在最后，请为你的主题选择一个板块。恰当的归类会让你发布的信息更加有用。 "),a("div",{staticClass:"sep10"})])])])]),a("div",{staticClass:"sep20"}),a("div",{staticClass:"box"},[a("div",{staticClass:"cell"},[t._v("论坛原则")]),a("div",{staticClass:"inner"},[a("ul",{staticStyle:{"margin-top":"0px"}},[a("li",[a("span",{staticClass:"f13"},[t._v("尊重原创")]),a("div",{staticClass:"sep10"}),t._v("请不要在该论坛发布任何盗版下载链接，包括软件、音乐、电影等等。 "),a("div",{staticClass:"sep10"})]),a("li",[a("span",{staticClass:"f13"},[t._v("友好互助")]),a("div",{staticClass:"sep10"}),t._v("保持对陌生人的友善。用知识去帮助别人。 ")])])])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"cell"},[a("div",{staticClass:"fr fade",attrs:{id:"title_remaining"}},[t._v("120")]),t._v("帖子标题 ")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"cell"},[a("div",{staticClass:"fr fade",attrs:{id:"content_remaining"}},[t._v("20000")]),t._v("正文 ")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("span",{staticClass:"select2 select2-container select2-container--default",staticStyle:{width:"300px"},attrs:{dir:"ltr","data-select2-id":"1"}},[a("span",{staticClass:"selection"},[a("span",{staticClass:"select2-selection select2-selection--single",attrs:{role:"combobox","aria-haspopup":"true","aria-expanded":"false",tabindex:"0","aria-disabled":"false","aria-labelledby":"select2-nodes-container"}},[a("span",{staticClass:"select2-selection__rendered",attrs:{id:"select2-nodes-container",role:"textbox","aria-readonly":"true"}},[a("span",{staticClass:"select2-selection__placeholder"},[t._v("请选择一个板块")])]),a("span",{staticClass:"select2-selection__arrow",attrs:{role:"presentation"}},[a("b",{attrs:{role:"presentation"}})])])]),a("span",{staticClass:"dropdown-wrapper",attrs:{"aria-hidden":"true"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("button",{staticClass:"super normal button",attrs:{onclick:"previewTopic();"}},[a("li",{staticClass:"fa fa-eye"})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"Bottom"}},[a("div",{staticClass:"content"},[a("div",{staticClass:"inner"},[a("div",{staticClass:"sep10"}),a("div",{staticClass:"fr"},[a("a",{attrs:{href:"https://www.digitalocean.com/?refcode=1b51f1a7651d",target:"_blank"}},[a("div",{attrs:{id:"DigitalOcean"}})])]),a("strong",[a("a",{staticClass:"dark",attrs:{href:"/about",target:"_self"}},[t._v("关于")]),t._v(" "),a("span",{staticClass:"snow"},[t._v("·")]),t._v(" "),a("a",{staticClass:"dark",attrs:{href:"/faq",target:"_self"}},[t._v("FAQ")]),t._v(" "),a("span",{staticClass:"snow"},[t._v("·")]),t._v(" "),a("a",{staticClass:"dark",attrs:{href:"/p/7v9TEc53",target:"_self"}},[t._v("API")]),t._v(" "),a("span",{staticClass:"snow"},[t._v("·")]),t._v(" "),a("a",{staticClass:"dark",attrs:{href:"/mission",target:"_self"}},[t._v("我们的愿景")]),t._v(" "),a("span",{staticClass:"snow"},[t._v("·")]),t._v(" "),a("a",{staticClass:"dark",attrs:{href:"/advertise/2019.html",target:"_self"}},[t._v("感谢")])]),t._v(" "),a("div",{staticClass:"sep20"}),t._v("创意工作者们的社区 "),a("div",{staticClass:"sep5"}),t._v("World is powered by solitude "),a("div",{staticClass:"sep20"}),a("span",{staticClass:"small fade"},[a("br"),t._v("♥ Do have faith in what you're doing. ")]),a("div",{staticClass:"sep10"})])])])}],r=a("365c"),l=a("a16d"),n={data(){return{select:"",title:"",text:"",userId:"",token:"",ArticleTypes:[{type_id:0,type_name:"",creat_time:"",type_description:"",post_num:0}]}},mounted(){Object(r["h"])().then(t=>{this.ArticleTypes=t.data}).catch(()=>{})},methods:{post(){this.userId=this.$store.state.user.id,this.token=this.$store.state.user.token,Object(r["u"])(this.userId,this.title,this.text,this.select,this.token).then(t=>{if(2e3===t.code){const t=this.$createElement;this.$message({message:t("p",null,[t("span",null,""),t("i",{style:"color: teal"},"发布成功")])}),this.$router.push("/")}}).catch()}},components:{Top:l["a"]}},c=n,o=(a("571c"),a("2877")),d=Object(o["a"])(c,e,i,!1,null,"0b031eb0",null);s["default"]=d.exports},"571c":function(t,s,a){"use strict";var e=a("94ae"),i=a.n(e);i.a},"94ae":function(t,s,a){},a16d:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("nav",{staticClass:"navbar is-light",attrs:{role:"navigation","aria-label":"main navigation"}},[e("div",{staticClass:"navbar-brand"},[e("div",{staticClass:"demo-image"},[e("div",{staticClass:"block"},[e("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:a("a5d2"),fit:t.contain}})],1)]),t._m(0)]),e("div",{staticClass:"navbar-menu",attrs:{id:"navbarBasicExample"}},[e("div",{staticClass:"navbar-start"},[e("a",{staticClass:"navbar-item",on:{click:t.getMainPosts}},[t._v("首页")]),e("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[e("a",{staticClass:"navbar-link"},[t._v("更多")]),e("div",{staticClass:"navbar-dropdown"},[e("a",{staticClass:"navbar-item",on:{click:t.userhome}},[t._v("个人主页")]),e("a",{staticClass:"navbar-item",on:{click:t.allart}},[t._v("全部帖子")]),e("a",{directives:[{name:"show",rawName:"v-show",value:1===t.$store.state.user.user_role,expression:"$store.state.user.user_role === 1"}],staticClass:"navbar-item",on:{click:t.manager}},[t._v("后台管理")]),e("hr",{staticClass:"navbar-divider"})])]),e("div",{staticClass:"level-left"},[t._m(1),e("div",{staticClass:"level-item"},[e("div",{staticClass:"field has-addons"},[e("p",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Search,expression:"Search"}],staticClass:"input",attrs:{type:"text",placeholder:"Find a post"},domProps:{value:t.Search},on:{input:function(s){s.target.composing||(t.Search=s.target.value)}}})]),e("p",{staticClass:"control"},[e("button",{staticClass:"button",on:{click:t.searchPosts}},[t._v("搜索")])])])])])]),t.$store.state.isLogin?t.$store.state.isLogin?e("div",{staticClass:"navbar-brand"},[e("div",{staticClass:"navbar-item"},[e("el-row",{attrs:{gutter:"50"}},[e("el-col",{attrs:{span:6}},[e("img",{staticClass:"el-avatar--circle",attrs:{src:""+t.$store.state.user.avatar_url,sizes:"40",onerror:"this.src='http://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png';this.οnerrοr=null"}})]),e("el-col",{attrs:{span:8}},[e("h2",[t._v(t._s(t.$store.state.user.user_name))])]),e("el-col",{attrs:{span:4}},[e("el-button",{attrs:{size:"small",round:"",type:"primary"},on:{click:t.logout}},[e("i",{staticClass:"fas fa-sign-out-alt"},[t._v("登出")])])],1)],1)],1)]):t._e():e("div",{staticClass:"navbar-end"},[e("div",{staticClass:"navbar-item"},[e("div",{staticClass:"buttons"},[e("b-button",{attrs:{type:"is-info",outlined:""},on:{click:t.register}},[t._v("注册")]),e("div",{staticClass:"navbar-menu"},[e("div",{staticClass:"navbar-end"},[e("b-dropdown",{attrs:{position:"is-bottom-left","aria-role":"menu","trap-focus":""}},[e("a",{staticClass:"navbar-item",attrs:{slot:"trigger",role:"button"},slot:"trigger"},[e("b-button",{attrs:{type:"is-info",outlined:""}},[t._v("登录")])],1),e("b-dropdown-item",{attrs:{"aria-role":"menu-item",focusable:!1,custom:"",paddingless:""}},[e("div",{staticClass:"modal-card",staticStyle:{width:"300px"}},[e("section",{staticClass:"modal-card-body"},[e("b-field",{attrs:{label:"用户账户"}},[e("b-input",{attrs:{type:"text",placeholder:"请输入您的账户",required:""},model:{value:t.userAccount,callback:function(s){t.userAccount=s},expression:"userAccount"}})],1),e("b-field",{attrs:{label:"密码"}},[e("b-input",{attrs:{type:"password","password-reveal":"",placeholder:"Your password",required:""},model:{value:t.userPassword,callback:function(s){t.userPassword=s},expression:"userPassword"}})],1),e("b-checkbox",[t._v("记住我")])],1),e("footer",{staticClass:"modal-card-foot"},[e("button",{staticClass:"button is-primary",on:{click:t.login}},[t._v("登录")])])])])],1)],1)])],1)])])])])},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("a",{staticClass:"navbar-burger burger",attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"}},[a("span",{attrs:{"aria-hidden":"true"}}),a("span",{attrs:{"aria-hidden":"true"}}),a("span",{attrs:{"aria-hidden":"true"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"level-item"},[a("p",{staticClass:"subtitle is-5"})])}],r=a("365c"),l={data(){return{userAccount:"",userPassword:"",Search:""}},methods:{getMainPosts(){this.$router.push("/")},errorHandler(){return!0},searchPosts(){this.$router.push({path:"/allsearchhome",query:{search:JSON.stringify(this.Search)}})},allart(){this.$router.push("/allarticlehome")},manager(){this.$router.push("/backstagehome")},logout(){this.$store.commit("logout")},userhome(){this.$router.push("/userhome")},login(){Object(r["x"])(this.userAccount,this.userPassword).then(t=>{const{data:s}=t;this.user=s,console.log(s),null!=s?this.$store.dispatch("aLogin",{user:s,message:"用户登录",success:()=>{1===this.$store.state.user.user_role&&this.$router.push("backstagehome"),console.log("欢迎您")}}):alert("该用户不存在")}).catch(()=>{})},register(){this.$router.push("/registerhome")}}},n=l,c=a("2877"),o=Object(c["a"])(n,e,i,!1,null,null,null);s["a"]=o.exports},a5d2:function(t,s,a){t.exports=a.p+"img/titlelogo.73ff1d0b.png"}}]);
//# sourceMappingURL=chunk-13c72344.8def0f25.js.map