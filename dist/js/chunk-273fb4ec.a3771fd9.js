(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-273fb4ec"],{1006:function(t,s,a){},"374f":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("Top"),a("div",{staticClass:"Wrapper"},[a("div",{staticClass:"content"},[a("div",{staticClass:"Leftbar"}),a("div",{staticClass:"Rightbar"},[a("div",{staticClass:"sep20"}),a("div",{staticClass:"box"},[a("div",{staticClass:"cell"},[a("table",{attrs:{cellpadding:"0",cellspacing:"0",border:"0",width:"100%"}},[a("tbody",[a("tr",[a("td",{attrs:{width:"48",valign:"top"}},[a("a",{attrs:{href:"#"}},[a("img",{staticClass:"el-avatar--circle",attrs:{src:""+t.info.user.avatar_url,onerror:"this.src='http://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png';this.οnerrοr=null"}})])]),a("td",{attrs:{width:"10",valign:"top"}}),a("td",{attrs:{width:"auto",align:"left"}},[a("span",{staticClass:"bigger"},[a("a",{attrs:{href:"#"}},[t._v(t._s(t.info.user.user_name))])])])])])]),a("div",{staticClass:"sep10"}),a("table",{attrs:{cellpadding:"0",cellspacing:"0",border:"0",width:"100%"}},[a("tbody",[a("tr",[a("td",{attrs:{width:"33%",align:"center"}},[a("a",{staticClass:"dark",staticStyle:{display:"block"},attrs:{href:"#"}},[a("span",{staticClass:"bigger"},[t._v(t._s(t.author.user_fans))]),a("div",{staticClass:"sep3"}),a("span",{staticClass:"fade"},[t._v("ta的粉丝数")])])]),a("td",{staticStyle:{"border-left":"1px solid rgba(100, 100, 100, 0.4)","border-right":"1px solid rgba(100, 100, 100, 0.4)"},attrs:{width:"34%",align:"center"}},[a("a",{staticClass:"dark",staticStyle:{display:"block"},attrs:{href:"#"}},[a("span",{staticClass:"bigger"},[t._v(t._s(t.author.user_posts))]),a("div",{staticClass:"sep3"}),a("span",{staticClass:"fade"},[t._v("ta的帖子")])])]),a("td",{attrs:{width:"33%",align:"center"}},[a("a",{staticClass:"dark",staticStyle:{display:"block"},attrs:{href:"/my/following"}},[a("span",{staticClass:"bigger"},[t._v(t._s(t.author.user_follow))]),a("div",{staticClass:"sep3"}),a("span",{staticClass:"fade"},[t._v("ta关注的人数")])])])])])])]),t._m(0),t._m(1),a("div",{staticClass:"inner"},[a("div",{staticClass:"fr",staticStyle:{margin:"-3px 0px 0px 0px"},attrs:{id:"money"}}),a("a",{staticClass:"fade",on:{click:t.Post}},[t._v("去发帖")])])])]),a("div",{staticClass:"Main"},[a("div",{staticClass:"sep20"}),a("div",{staticClass:"box",staticStyle:{"border-bottom":"0px"}},[a("div",{staticClass:"header"},[a("div",{staticClass:"fr"},[a("img",{staticClass:"el-avatar--circle",attrs:{src:""+t.info.user.avatar_url,onerror:"this.src='http://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png';this.οnerrοr=null"}})]),a("div",{staticClass:"sep10"}),a("h3",[t._v(t._s(t.info.post_title))]),a("h5",{staticClass:"gray"},[t._v("用户:"+t._s(t.info.user.user_name)+" ")]),a("small",{staticClass:"gray"},[t._v("发布时间:"+t._s(t.info.creat_time))])]),a("div",{staticClass:"cell"},[t._v(t._s(t.info.post_content))])]),a("div",{staticClass:"sep20"}),a("div",{staticClass:"box"},[a("div",{staticClass:"cell"},[t._v("回复")]),a("div",{staticClass:"fuck"}),t._l(t.comments,(function(s,e){return a("div",{key:e,staticClass:"cell"},[a("table",{attrs:{cellpadding:"0",cellspacing:"0",border:"0",width:"100%"}},[a("tbody",[a("tr",[a("td",{attrs:{width:"48",valign:"top",align:"center"}},[a("img",{staticClass:"el-avatar--circle",attrs:{src:""+s.user.avatar_url,onerror:"this.src='http://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png';this.οnerrοr=null"}})]),a("td",{attrs:{width:"10",valign:"top"}}),a("td",{attrs:{width:"auto",valign:"top",align:"left"}},[t._m(2,!0),a("div",{staticClass:"sep3"}),a("strong",[a("a",{staticClass:"dark",attrs:{href:"#"}},[t._v(t._s(s.user.user_name))])]),t._v(" "),a("span",{staticClass:"ago"},[t._v(t._s(s.creat_time))]),a("div",{staticClass:"sep5"}),a("div",{staticClass:"reply_content"},[t._v(t._s(s.reply_content))])])])])])])}))],2),a("div",{staticClass:"sep20"}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.isLogin,expression:"$store.state.isLogin"}],staticClass:"box"},[t._m(3),a("div",{staticClass:"cell"},[a("form",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"mll",staticStyle:{overflow:"hidden","overflow-wrap":"break-word",resize:"none",height:"112px"},attrs:{name:"content",maxlength:"10000",id:"reply_content"},domProps:{value:t.text},on:{input:function(s){s.target.composing||(t.text=s.target.value)}}}),a("div",{staticClass:"sep10"}),t._m(4),a("input",{attrs:{type:"hidden",value:"41475",name:"once"}}),a("input",{staticClass:"super normal button",attrs:{type:"button",value:"回复"},on:{click:t.newcomment}})])]),a("div",{staticClass:"inner"})])])])]),t._m(5)],1)},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"cell",attrs:{id:"member-activity"}},[a("div",{staticClass:"member-activity-bar"},[a("div",{staticClass:"member-activity-start",staticStyle:{width:"15px"}})])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"cell",staticStyle:{padding:"5px"}},[a("table",{attrs:{cellpadding:"0",cellspacing:"0",border:"0",width:"100%"}},[a("tbody",[a("tr",[a("td",{attrs:{width:"28"}},[a("a",{attrs:{href:"/new"}},[a("img",{attrs:{src:"",width:"28",border:"0"}})])]),a("td",{attrs:{width:"10"}}),a("td",{attrs:{width:"auto",valign:"middle",align:"left"}})])])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"fr"},[t._v(" "),a("span",{staticClass:"no"})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"cell"},[a("div",{staticClass:"fr"},[a("a",[a("strong",[t._v("↑")]),t._v(" 注意用语规范 ")])]),t._v("添加一条新回复 ")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"fr"},[a("div",{staticClass:"sep5"}),a("span",{staticClass:"gray"},[t._v("请尽量让自己的回复能够对别人有帮助")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"Bottom"}},[a("div",{staticClass:"content"},[a("div",{staticClass:"inner"},[a("div",{staticClass:"sep10"}),a("div",{staticClass:"fr"}),a("strong",[a("a",{staticClass:"dark",attrs:{href:"#",target:"_self"}},[t._v("社区分享热爱")])]),a("div",{staticClass:"sep20"}),t._v("微趣--发现美 ")])])])}],r=a("365c"),l=a("a16d"),n={inject:["reload"],data(){return{author:{user_id:0,user_fans:0,user_posts:0,user_follow:0,creat_time:"",update_time:"",is_delete:0},text:"",info:[{post_id:0,post_type:"",post_title:"",post_content:"",post_userid:0,post_star:0,post_like:0,post_reply:0,post_status:0,creat_time:"",user:{id:0,user_name:"",user_account:"",avatar_url:"",gender:0,phone:0,email:"",user_role:0,user_status:0,creat_time:"",is_delete:0,token:""}}],comments:[{reply_id:0,post_id:0,reply_userid:0,reply_isfather:0,reply_content:"I",reply_status:0,creat_time:"",update_time:"",user:{id:0,user_name:"",user_account:"",avatar_url:"",gender:0,phone:0,email:"",user_role:0,user_status:0,creat_time:"",is_delete:0,token:""}}]}},created(){this.info=JSON.parse(this.$route.query.detaildata),console.log(this.info),Object(r["n"])(this.info.post_userid).then(t=>{this.author=t.data}),Object(r["p"])(this.info.post_id).then(t=>{this.comments=t.data;for(let s=0;s<this.comments.length;s++)this.comments[s].creat_time=this.$moment(this.comments[s].creat_time).fromNow()}).catch({})},methods:{home(){this.$router.push("/")},Post(){this.$router.push("/postarticle")},newcomment(){console.log(this.text),console.log(this.$store.state.user.token),Object(r["t"])(this.info.post_id,this.text,this.$store.state.user.id,this.$store.state.user.token).then(t=>{if(2e3===t.code){const t=this.$createElement;this.$message({message:t("p",null,[t("span",null,""),t("i",{style:"color: teal"},"评论成功")])}),this.reload()}}).catch({})}},components:{Top:l["a"]}},c=n,o=(a("ab25"),a("2877")),d=Object(o["a"])(c,e,i,!1,null,"ac98b3de",null);s["default"]=d.exports},a16d:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("nav",{staticClass:"navbar is-light",attrs:{role:"navigation","aria-label":"main navigation"}},[e("div",{staticClass:"navbar-brand"},[e("div",{staticClass:"demo-image"},[e("div",{staticClass:"block"},[e("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:a("a5d2"),fit:t.contain}})],1)]),t._m(0)]),e("div",{staticClass:"navbar-menu",attrs:{id:"navbarBasicExample"}},[e("div",{staticClass:"navbar-start"},[e("a",{staticClass:"navbar-item",on:{click:t.getMainPosts}},[t._v("首页")]),e("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[e("a",{staticClass:"navbar-link"},[t._v("更多")]),e("div",{staticClass:"navbar-dropdown"},[e("a",{staticClass:"navbar-item",on:{click:t.userhome}},[t._v("个人主页")]),e("a",{staticClass:"navbar-item",on:{click:t.allart}},[t._v("全部帖子")]),e("a",{directives:[{name:"show",rawName:"v-show",value:1===t.$store.state.user.user_role,expression:"$store.state.user.user_role === 1"}],staticClass:"navbar-item",on:{click:t.manager}},[t._v("后台管理")]),e("hr",{staticClass:"navbar-divider"})])]),e("div",{staticClass:"level-left"},[t._m(1),e("div",{staticClass:"level-item"},[e("div",{staticClass:"field has-addons"},[e("p",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Search,expression:"Search"}],staticClass:"input",attrs:{type:"text",placeholder:"Find a post"},domProps:{value:t.Search},on:{input:function(s){s.target.composing||(t.Search=s.target.value)}}})]),e("p",{staticClass:"control"},[e("button",{staticClass:"button",on:{click:t.searchPosts}},[t._v("搜索")])])])])])]),t.$store.state.isLogin?t.$store.state.isLogin?e("div",{staticClass:"navbar-brand"},[e("div",{staticClass:"navbar-item"},[e("el-row",{attrs:{gutter:"50"}},[e("el-col",{attrs:{span:6}},[e("img",{staticClass:"el-avatar--circle",attrs:{src:""+t.$store.state.user.avatar_url,sizes:"40",onerror:"this.src='http://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png';this.οnerrοr=null"}})]),e("el-col",{attrs:{span:8}},[e("h2",[t._v(t._s(t.$store.state.user.user_name))])]),e("el-col",{attrs:{span:4}},[e("el-button",{attrs:{size:"small",round:"",type:"primary"},on:{click:t.logout}},[e("i",{staticClass:"fas fa-sign-out-alt"},[t._v("登出")])])],1)],1)],1)]):t._e():e("div",{staticClass:"navbar-end"},[e("div",{staticClass:"navbar-item"},[e("div",{staticClass:"buttons"},[e("b-button",{attrs:{type:"is-info",outlined:""},on:{click:t.register}},[t._v("注册")]),e("div",{staticClass:"navbar-menu"},[e("div",{staticClass:"navbar-end"},[e("b-dropdown",{attrs:{position:"is-bottom-left","aria-role":"menu","trap-focus":""}},[e("a",{staticClass:"navbar-item",attrs:{slot:"trigger",role:"button"},slot:"trigger"},[e("b-button",{attrs:{type:"is-info",outlined:""}},[t._v("登录")])],1),e("b-dropdown-item",{attrs:{"aria-role":"menu-item",focusable:!1,custom:"",paddingless:""}},[e("div",{staticClass:"modal-card",staticStyle:{width:"300px"}},[e("section",{staticClass:"modal-card-body"},[e("b-field",{attrs:{label:"用户账户"}},[e("b-input",{attrs:{type:"text",placeholder:"请输入您的账户",required:""},model:{value:t.userAccount,callback:function(s){t.userAccount=s},expression:"userAccount"}})],1),e("b-field",{attrs:{label:"密码"}},[e("b-input",{attrs:{type:"password","password-reveal":"",placeholder:"Your password",required:""},model:{value:t.userPassword,callback:function(s){t.userPassword=s},expression:"userPassword"}})],1),e("b-checkbox",[t._v("记住我")])],1),e("footer",{staticClass:"modal-card-foot"},[e("button",{staticClass:"button is-primary",on:{click:t.login}},[t._v("登录")])])])])],1)],1)])],1)])])])])},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("a",{staticClass:"navbar-burger burger",attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"}},[a("span",{attrs:{"aria-hidden":"true"}}),a("span",{attrs:{"aria-hidden":"true"}}),a("span",{attrs:{"aria-hidden":"true"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"level-item"},[a("p",{staticClass:"subtitle is-5"})])}],r=a("365c"),l={data(){return{userAccount:"",userPassword:"",Search:""}},methods:{getMainPosts(){this.$router.push("/")},errorHandler(){return!0},searchPosts(){this.$router.push({path:"/allsearchhome",query:{search:JSON.stringify(this.Search)}})},allart(){this.$router.push("/allarticlehome")},manager(){this.$router.push("/backstagehome")},logout(){this.$store.commit("logout")},userhome(){this.$router.push("/userhome")},login(){Object(r["x"])(this.userAccount,this.userPassword).then(t=>{const{data:s}=t;this.user=s,console.log(s),null!=s?this.$store.dispatch("aLogin",{user:s,message:"用户登录",success:()=>{1===this.$store.state.user.user_role&&this.$router.push("backstagehome"),console.log("欢迎您")}}):alert("该用户不存在")}).catch(()=>{})},register(){this.$router.push("/registerhome")}}},n=l,c=a("2877"),o=Object(c["a"])(n,e,i,!1,null,null,null);s["a"]=o.exports},a5d2:function(t,s,a){t.exports=a.p+"img/titlelogo.73ff1d0b.png"},ab25:function(t,s,a){"use strict";var e=a("1006"),i=a.n(e);i.a}}]);
//# sourceMappingURL=chunk-273fb4ec.a3771fd9.js.map