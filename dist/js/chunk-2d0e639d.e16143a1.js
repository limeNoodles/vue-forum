(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e639d"],{"989a":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dormitory"},[a("div",{staticClass:"searchWord"},[a("p",[t._v(" 搜索: "),a("el-input",{staticStyle:{display:"inline-block",width:"300px"},attrs:{placeholder:"请输入搜索内容"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"dormitoryData"},[a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:t.tables,height:"600"}},[a("el-table-column",{attrs:{align:"center",prop:"post_id",label:"贴子id",width:"130",sortable:"","column-key":"num"}}),a("el-table-column",{attrs:{align:"center",prop:"post_userid",label:"发帖人id",width:"130"}}),a("el-table-column",{attrs:{align:"center",prop:"post_title",label:"发帖标题",width:"180"}}),a("el-table-column",{attrs:{align:"center",prop:"post_star",label:"贴子收藏",width:"100",sortable:"","column-key":"num"}}),a("el-table-column",{attrs:{align:"center",prop:"post_reply",label:"贴子回复",width:"100",sortable:"","column-key":"num"}}),a("el-table-column",{attrs:{align:"center",prop:"post_like",label:"贴子点赞",width:"100",sortable:"","column-key":"num"}}),a("el-table-column",{attrs:{align:"center",prop:"post_status",label:"贴子状态",formatter:t.statusFormat,sortable:"",width:"180","column-key":"num"}}),a("el-table-column",{attrs:{align:"center",prop:"creat_time",label:"发帖日期",sortable:"",width:"180","column-key":"date"}}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)])},s=[],o=a("365c"),r=a("2c4e"),n={data(){return{search:"",tableData:[{post_id:0,post_type:0,post_title:"",post_content:"",post_userid:0,post_star:0,post_like:0,post_reply:0,post_status:0,creat_time:"",update_time:""}]}},created(){const t=this.$store.state.user.token;Object(o["i"])(t).then(t=>{this.tableData=t.data})},methods:{statusFormat(t){return 0===t.post_status?"正常":"异常"},handleEdit(t,e){console.log(t,e)},handleDelete(t,e){const a=e.post_id;Object(o["c"])(a,this.$store.state.user.token).then(t=>{2e3===t.code?(r["a"].open({message:"删除成功!",position:"is-top"}),this.reload()):r["a"].open({message:"删除失败",position:"is-top"})}),console.log(t,e),this.tableData.splice(t,1)},deleteRow(t,e){e.splice(t,1)},formatter(t,e){return console.log(e),t.address}},computed:{tables(){const t=this.search;return t?this.tableData.filter(e=>{return Object.keys(e).some(a=>{return String(e[a]).toLowerCase().indexOf(t)>-1})}):this.tableData}}},i=n,c=a("2877"),p=Object(c["a"])(i,l,s,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0e639d.e16143a1.js.map