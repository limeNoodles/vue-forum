{"version":3,"sources":["webpack:///./src/components/searchHome/Allsearchhome.vue?f3a4","webpack:///./src/components/searchHome/All.vue?8a0e","webpack:///src/components/searchHome/All.vue","webpack:///./src/components/searchHome/All.vue?6bb7","webpack:///./src/components/searchHome/All.vue?993c","webpack:///src/components/searchHome/Allsearchhome.vue","webpack:///./src/components/searchHome/Allsearchhome.vue?ae83","webpack:///./src/components/searchHome/Allsearchhome.vue","webpack:///./src/components/searchHome/All.vue?4a13","webpack:///./src/components/articlehome/Top.vue?c35e","webpack:///src/components/articlehome/Top.vue","webpack:///./src/components/articlehome/Top.vue?3e0a","webpack:///./src/components/articlehome/Top.vue","webpack:///./public/titlelogo.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","staticClass","attrs","on","getAll","_v","directives","name","rawName","value","expression","staticStyle","_l","content","index","key","user","_s","user_name","post_title","_m","post_star","post_reply","$event","postLike","post_like","slot","detail","flag","_e","isFullPage","isLoading","search","btnFlag","busy","limit","contents","post_id","post_type","post_content","post_userid","post_status","creat_time","id","user_account","avatar_url","gender","phone","email","user_role","user_status","is_delete","token","test","number","totalPages","then","res","data","list","length","h","$message","message","style","$router","push","shift","pages","catch","methods","i","detaildata","postid","$store","state","code","open","position","description","console","log","setTimeout","append","concat","path","query","JSON","stringify","parse","$route","component","components","Top","All","contain","getMainPosts","userhome","allart","manager","domProps","target","composing","Search","searchPosts","isLogin","logout","register","model","callback","$$v","userAccount","userPassword","login","commit","dispatch","success","alert","module","exports"],"mappings":"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","file":"js/chunk-32be3783.e3065f29.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Top'),_c('All')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tile is-ancestor\"},[_c('div',{staticClass:\"tile is-parent is-0-fullhd\"},[_c('article',{staticClass:\"tile is-child box\"},[_c('p',{attrs:{\"align\":\"right\"}},[_c('button',{staticClass:\"button is-info\",on:{\"click\":_vm.getAll}},[_vm._v(\"全部帖子\")])]),_c('ul',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticStyle:{\"height\":\"100vh\",\"overflow-y\":\"auto\"},attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"limit\"}},[_vm._l((_vm.contents),function(content,index){return _c('div',{key:index,staticClass:\"box\"},[_c('article',{staticClass:\"media\"},[_c('figure',{staticClass:\"media-left\"},[_c('p',{staticClass:\"image is-64x64\"},[_c('img',{staticClass:\"el-avatar--circle\",attrs:{\"src\":((\"\" + (content.user.avatar_url))),\"onerror\":\"this.src='http://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png';this.οnerrοr=null\"}})])]),_c('div',{staticClass:\"media-content\"},[_c('div',{staticClass:\"content\"},[_c('p',[_c('strong',[_vm._v(\"发帖人用户名:\"+_vm._s(content.user.user_name))]),_c('br'),_vm._v(\" 发帖标题:\"+_vm._s(content.post_title)+\" \")])]),_c('nav',{staticClass:\"level is-mobile\"},[_c('div',{staticClass:\"level-left\"},[_c('a',{staticClass:\"level-item\"},[_vm._m(0,true),_vm._v(\" \"+_vm._s(content.post_star)+\" \")]),_c('a',{staticClass:\"level-item\"},[_vm._m(1,true),_vm._v(\" \"+_vm._s(content.post_reply)+\" \")]),_c('a',{staticClass:\"level-item\",on:{\"click\":function($event){return _vm.postLike(index)}}},[_vm._m(2,true),_vm._v(\" \"+_vm._s(content.post_like)+\" \")])])])]),_c('div',{staticClass:\"media-right\"},[_c('a',{staticClass:\"navbar-item\",attrs:{\"slot\":\"trigger\",\"role\":\"button\"},slot:\"trigger\"},[_c('b-button',{attrs:{\"type\":\"is-info\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.detail(index)}}},[_vm._v(\"查看详情\")])],1)])])])}),(_vm.flag===1)?_c('div',[_vm._v(\"没有更多了\")]):_vm._e(),(_vm.flag===2)?_c('b-notification',{attrs:{\"closable\":false}},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"正在加载\")]),_c('b-loading',{attrs:{\"is-full-page\":_vm.isFullPage,\"active\":_vm.isLoading,\"can-cancel\":true},on:{\"update:active\":function($event){_vm.isLoading=$event}}})],1):_vm._e()],2)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fab fa-hotjar\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-comment-dots\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small\"},[_c('i',{staticClass:\"fas fa-heart\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"tile is-ancestor\">\r\n    <div class=\"tile is-parent is-0-fullhd\">\r\n      <article class=\"tile is-child box\">\r\n        <p align=\"right\">\r\n          <button class=\"button is-info\" @click=\"getAll\">全部帖子</button>\r\n        </p>\r\n\r\n        <ul\r\n            v-infinite-scroll=\"loadMore\"\r\n            infinite-scroll-disabled=\"busy\"\r\n            infinite-scroll-distance=\"limit\"\r\n            style=\"height: 100vh;\r\n    overflow-y: auto;\"\r\n        >\r\n          <div class=\"box\" v-for=\"(content,index) in contents\" :key=\"index\">\r\n            <!--            <div v-if=\"content.user.id!==null\">-->\r\n            <article class=\"media\">\r\n              <figure class=\"media-left\">\r\n                <p class=\"image is-64x64\">\r\n                  <img :src=\"(`${content.user.avatar_url}`)\" class=\"el-avatar--circle\"\r\n                       onerror=\"this.src='http://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png';this.οnerrοr=null\"/>\r\n                  <!--                  <img :src=\"require(`../../assets/${content.user.userImg}`)\" class=\"size\" />-->\r\n                </p>\r\n              </figure>\r\n              <div class=\"media-content\">\r\n                <div class=\"content\">\r\n                  <p>\r\n                    <strong>发帖人用户名:{{ content.user.user_name }}</strong>\r\n\r\n                    <br/>\r\n                    发帖标题:{{ content.post_title }}\r\n                  </p>\r\n                </div>\r\n                <nav class=\"level is-mobile\">\r\n                  <div class=\"level-left\">\r\n                    <a class=\"level-item\">\r\n                      <span class=\"icon is-small\">\r\n                        <i class=\"fab fa-hotjar\"></i>\r\n                      </span>\r\n                      {{ content.post_star }}\r\n                    </a>\r\n\r\n                    <a class=\"level-item\">\r\n                      <span class=\"icon is-small\">\r\n                        <i class=\"fas fa-comment-dots\"></i>\r\n                      </span>\r\n                      {{ content.post_reply }}\r\n                    </a>\r\n\r\n                    <a class=\"level-item\" @click=\"postLike(index)\">\r\n                      <span class=\"icon is-small\">\r\n                        <i class=\"fas fa-heart\"></i>\r\n                      </span>\r\n                      {{ content.post_like }}\r\n                    </a>\r\n                  </div>\r\n                </nav>\r\n              </div>\r\n              <div class=\"media-right\">\r\n                <a class=\"navbar-item\" slot=\"trigger\" role=\"button\">\r\n                  <b-button type=\"is-info\" outlined @click=\"detail(index)\">查看详情</b-button>\r\n                </a>\r\n              </div>\r\n            </article>\r\n          </div>\r\n          <!--          </div>-->\r\n          <div v-if=\"flag===1\">没有更多了</div>\r\n\r\n          <b-notification :closable=\"false\" v-if=\"flag===2\">\r\n            <div style=\"text-align:center\">正在加载</div>\r\n            <b-loading :is-full-page=\"isFullPage\" :active.sync=\"isLoading\" :can-cancel=\"true\"></b-loading>\r\n          </b-notification>\r\n        </ul>\r\n      </article>\r\n    </div>\r\n<!--    <div class=\"tile is-parent\">\r\n      <article class=\"tile is-child box\">\r\n        <p class=\"subtitle\">所有板块</p>\r\n\r\n        <div class=\"card\">\r\n          <header class=\"card-header\">\r\n            <p class=\"card-header-title\">板块名</p>\r\n            <a href=\"#\" class=\"card-header-icon\" aria-label=\"more options\">\r\n              <span class=\"icon\">\r\n                <i class=\"fas fa-angle-down\" aria-hidden=\"true\"></i>\r\n              </span>\r\n            </a>\r\n          </header>\r\n          <div class=\"card-content\">\r\n            <div class=\"content\">\r\n              <section>\r\n                <b-tooltip\r\n                    v-for=\"(ArticleType,index) in ArticleTypes\"\r\n                    :key=\"index\"\r\n                    :label=\"ArticleType.type_description\"\r\n                    class=\"is-info\"\r\n                >\r\n                  <button\r\n                      class=\"button is-info is-outlined\"\r\n                      @click=\"getTypeArticle(ArticleType.type_id)\"\r\n                  >{{ ArticleType.type_name }}\r\n                  </button>\r\n                </b-tooltip>\r\n              </section>\r\n              <br/>\r\n            </div>\r\n          </div>\r\n          <footer class=\"card-footer\">\r\n            <a href=\"#\" class=\"card-footer-item\">点击你感兴趣的板块</a>\r\n          </footer>\r\n        </div>\r\n      </article>\r\n    </div>-->\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport {getAllArticle, getAllArticleSearch, PostLike} from \"@/api\";\r\nimport {SnackbarProgrammatic as Snackbar} from \"buefy\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      search:\"\",\r\n      isLoading: false,\r\n      isFullPage: false,\r\n      btnFlag: false,\r\n      busy: false,\r\n      limit: 20,\r\n      flag: 0,\r\n\r\n      // test: [],\r\n      contents: [\r\n        {\r\n          post_id: 0,\r\n          post_type: \"\",\r\n          post_title: \"\",\r\n          post_content: \"\",\r\n          post_userid: 0,\r\n          post_star: 0,\r\n          post_like: 0,\r\n          post_reply: 0,\r\n          post_status: 0,\r\n          creat_time: \"\",\r\n          user: {\r\n            id: 0,\r\n            user_name: \"\",\r\n            user_account: \"\",\r\n            avatar_url: \"\",\r\n            gender: 0,\r\n            phone: 0,\r\n            email: \"\",\r\n            user_role: 0,\r\n            user_status: 0,\r\n            creat_time: \"\",\r\n            is_delete: 0,\r\n            token: \"\",\r\n          }\r\n        }\r\n      ],\r\n      test: [],\r\n      number: 1,\r\n      totalPages: 5\r\n    };\r\n  },\r\n  mounted() {\r\n\r\n    getAllArticleSearch(1,this.search)\r\n        .then(res => {\r\n          if(res.data.list.length <1){\r\n            const h = this.$createElement;\r\n            this.$message({\r\n              message: h('p', null, [\r\n                h('span', null, ''),\r\n                h('i', { style: 'color: red' }, '没有查询结果')\r\n              ])\r\n            })\r\n            this.$router.push(\"/\");\r\n          }\r\n          this.contents.shift();\r\n          this.contents = res.data.list;\r\n          this.totalPages = res.data.pages;\r\n          this.number = 1;\r\n          this.flag=0;\r\n        })\r\n        .catch(() => {\r\n        });\r\n  },\r\n\r\n  methods: {\r\n    postLike(i){\r\n      const detaildata = this.contents[i];\r\n      const postid=detaildata.post_id;\r\n      PostLike(postid,this.$store.state.user.token).then(res=>{\r\n        if(res.code===2000){\r\n          Snackbar.open({message:\"点赞成功!\",position: 'is-top'});\r\n          detaildata.post_like+=1;\r\n        }else {\r\n          Snackbar.open({message:res.description,position: 'is-top'});\r\n        }\r\n      });\r\n    },\r\n    loadMore() {\r\n      console.log(\"scrolling\");\r\n\r\n      this.busy = true;\r\n      if (this.number - 1 === this.totalPages) {\r\n        this.flag = 1;\r\n        this.busy =false;\r\n      } else {\r\n        this.flag = 2;\r\n        this.isLoading = true;\r\n\r\n        setTimeout(() => {\r\n          getAllArticleSearch(++this.number,this.search)\r\n              .then(res => {\r\n                const append = res.data.list;\r\n                this.totalPages = res.data.pages;\r\n                if(this.number-1!== this.totalPages){\r\n                this.contents = this.contents.concat(append);}\r\n                this.busy = false;\r\n              })\r\n              .catch(() => {\r\n                this.busy = false;\r\n              });\r\n        }, 1000);\r\n      }\r\n    },\r\n    getAll() {\r\n      getAllArticle(0)\r\n          .then(res => {\r\n            this.contents = res.data.list;\r\n            this.totalPages = res.data.pages;\r\n            this.number = 1;\r\n            this.flag = 2;\r\n          })\r\n          .catch(() => {\r\n          });\r\n    },\r\n    detail(index) {\r\n      const detaildata = this.contents[index];\r\n      this.$router.push({\r\n        path: \"/details\",\r\n        query: {\r\n          detaildata: JSON.stringify(detaildata)\r\n        }\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    // this.loadMore();\r\n    this.search = JSON.parse(this.$route.query.search);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.size {\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n\r\n.fuck {\r\n  text-align: center;\r\n}\r\n\r\n.tile.is-ancestor {\r\n  margin-left: 0;\r\n  margin-right: 0;\r\n  margin-top: 0;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./All.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./All.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./All.vue?vue&type=template&id=35fb8bf8&scoped=true&\"\nimport script from \"./All.vue?vue&type=script&lang=js&\"\nexport * from \"./All.vue?vue&type=script&lang=js&\"\nimport style0 from \"./All.vue?vue&type=style&index=0&id=35fb8bf8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"35fb8bf8\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <Top/>\r\n    <All />\r\n    <!-- <Test /> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//import { SnackbarProgrammatic as Snackbar } from \"buefy\";\r\n\r\nimport All from \"../searchHome/All\";\r\nimport Top from \"@/components/articlehome/Top\";\r\n// import Test from \"../articlehome/Test\";\r\nexport default {\r\n  mounted() {\r\n    /*Snackbar.open(\"享受生活！！！！\");*/\r\n  },\r\n\r\n  components: {\r\n    Top,\r\n    All\r\n    // Test\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Allsearchhome.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Allsearchhome.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Allsearchhome.vue?vue&type=template&id=1ed4d2c8&scoped=true&\"\nimport script from \"./Allsearchhome.vue?vue&type=script&lang=js&\"\nexport * from \"./Allsearchhome.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ed4d2c8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./All.vue?vue&type=style&index=0&id=35fb8bf8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./All.vue?vue&type=style&index=0&id=35fb8bf8&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"navbar is-light\",attrs:{\"role\":\"navigation\",\"aria-label\":\"main navigation\"}},[_c('div',{staticClass:\"navbar-brand\"},[_c('div',{staticClass:\"demo-image\"},[_c('div',{staticClass:\"block\"},[_c('el-image',{staticStyle:{\"width\":\"50px\",\"height\":\"50px\"},attrs:{\"src\":require('../../../public/titlelogo.png'),\"fit\":_vm.contain}})],1)]),_vm._m(0)]),_c('div',{staticClass:\"navbar-menu\",attrs:{\"id\":\"navbarBasicExample\"}},[_c('div',{staticClass:\"navbar-start\"},[_c('a',{staticClass:\"navbar-item\",on:{\"click\":_vm.getMainPosts}},[_vm._v(\"首页\")]),_c('div',{staticClass:\"navbar-item has-dropdown is-hoverable\"},[_c('a',{staticClass:\"navbar-link\"},[_vm._v(\"更多\")]),_c('div',{staticClass:\"navbar-dropdown\"},[_c('a',{staticClass:\"navbar-item\",on:{\"click\":_vm.userhome}},[_vm._v(\"个人主页\")]),_c('a',{staticClass:\"navbar-item\",on:{\"click\":_vm.allart}},[_vm._v(\"全部帖子\")]),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$store.state.user.user_role === 1),expression:\"$store.state.user.user_role === 1\"}],staticClass:\"navbar-item\",on:{\"click\":_vm.manager}},[_vm._v(\"后台管理\")]),_c('hr',{staticClass:\"navbar-divider\"})])]),_c('div',{staticClass:\"level-left\"},[_vm._m(1),_c('div',{staticClass:\"level-item\"},[_c('div',{staticClass:\"field has-addons\"},[_c('p',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.Search),expression:\"Search\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"Find a post\"},domProps:{\"value\":(_vm.Search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.Search=$event.target.value}}})]),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.searchPosts}},[_vm._v(\"搜索\")])])])])])]),(!_vm.$store.state.isLogin)?_c('div',{staticClass:\"navbar-end\"},[_c('div',{staticClass:\"navbar-item\"},[_c('div',{staticClass:\"buttons\"},[_c('b-button',{attrs:{\"type\":\"is-info\",\"outlined\":\"\"},on:{\"click\":_vm.register}},[_vm._v(\"注册\")]),_c('div',{staticClass:\"navbar-menu\"},[_c('div',{staticClass:\"navbar-end\"},[_c('b-dropdown',{attrs:{\"position\":\"is-bottom-left\",\"aria-role\":\"menu\",\"trap-focus\":\"\"}},[_c('a',{staticClass:\"navbar-item\",attrs:{\"slot\":\"trigger\",\"role\":\"button\"},slot:\"trigger\"},[_c('b-button',{attrs:{\"type\":\"is-info\",\"outlined\":\"\"}},[_vm._v(\"登录\")])],1),_c('b-dropdown-item',{attrs:{\"aria-role\":\"menu-item\",\"focusable\":false,\"custom\":\"\",\"paddingless\":\"\"}},[_c('div',{staticClass:\"modal-card\",staticStyle:{\"width\":\"300px\"}},[_c('section',{staticClass:\"modal-card-body\"},[_c('b-field',{attrs:{\"label\":\"用户账户\"}},[_c('b-input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入您的账户\",\"required\":\"\"},model:{value:(_vm.userAccount),callback:function ($$v) {_vm.userAccount=$$v},expression:\"userAccount\"}})],1),_c('b-field',{attrs:{\"label\":\"密码\"}},[_c('b-input',{attrs:{\"type\":\"password\",\"password-reveal\":\"\",\"placeholder\":\"Your password\",\"required\":\"\"},model:{value:(_vm.userPassword),callback:function ($$v) {_vm.userPassword=$$v},expression:\"userPassword\"}})],1),_c('b-checkbox',[_vm._v(\"记住我\")])],1),_c('footer',{staticClass:\"modal-card-foot\"},[_c('button',{staticClass:\"button is-primary\",on:{\"click\":_vm.login}},[_vm._v(\"登录\")])])])])],1)],1)])],1)])]):(_vm.$store.state.isLogin)?_c('div',{staticClass:\"navbar-brand\"},[_c('div',{staticClass:\"navbar-item\"},[_c('el-row',{attrs:{\"gutter\":\"50\"}},[_c('el-col',{attrs:{\"span\":6}},[_c('img',{staticClass:\"el-avatar--circle\",attrs:{\"src\":((\"\" + (_vm.$store.state.user.avatar_url))),\"sizes\":\"40\",\"onerror\":\"this.src='http://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png';this.οnerrοr=null\"}})]),_c('el-col',{attrs:{\"span\":8}},[_c('h2',[_vm._v(_vm._s(_vm.$store.state.user.user_name))])]),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"size\":\"small\",\"round\":\"\",\"type\":\"primary\"},on:{\"click\":_vm.logout}},[_c('i',{staticClass:\"fas fa-sign-out-alt\"},[_vm._v(\"登出\")])])],1)],1)],1)]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"navbar-burger burger\",attrs:{\"role\":\"button\",\"aria-label\":\"menu\",\"aria-expanded\":\"false\",\"data-target\":\"navbarBasicExample\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}}),_c('span',{attrs:{\"aria-hidden\":\"true\"}}),_c('span',{attrs:{\"aria-hidden\":\"true\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"level-item\"},[_c('p',{staticClass:\"subtitle is-5\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <nav class=\"navbar is-light\" role=\"navigation\" aria-label=\"main navigation\">\r\n    <div class=\"navbar-brand\">\r\n      <div class=\"demo-image\">\r\n        <div class=\"block\">\r\n          <el-image\r\n              style=\"width: 50px; height: 50px\"\r\n              :src=\"require('../../../public/titlelogo.png')\"\r\n              :fit=\"contain\"></el-image>\r\n        </div>\r\n      </div>\r\n\r\n      <a\r\n          role=\"button\"\r\n          class=\"navbar-burger burger\"\r\n          aria-label=\"menu\"\r\n          aria-expanded=\"false\"\r\n          data-target=\"navbarBasicExample\"\r\n      >\r\n        <span aria-hidden=\"true\"></span>\r\n        <span aria-hidden=\"true\"></span>\r\n        <span aria-hidden=\"true\"></span>\r\n      </a>\r\n    </div>\r\n\r\n    <div id=\"navbarBasicExample\" class=\"navbar-menu\">\r\n      <div class=\"navbar-start\">\r\n        <a class=\"navbar-item\" @click=\"getMainPosts\">首页</a>\r\n\r\n<!--        <a class=\"navbar-item\">热榜</a>-->\r\n\r\n        <div class=\"navbar-item has-dropdown is-hoverable\">\r\n          <a class=\"navbar-link\">更多</a>\r\n\r\n          <div class=\"navbar-dropdown\">\r\n            <a class=\"navbar-item\" @click=\"userhome\">个人主页</a>\r\n<!--            <a class=\"navbar-item\">全部板块</a>-->\r\n            <a class=\"navbar-item\" @click=\"allart\">全部帖子</a>\r\n            <a class=\"navbar-item\" v-show=\"$store.state.user.user_role === 1\" @click=\"manager\">后台管理</a>\r\n            <hr class=\"navbar-divider\"/>\r\n<!--            <a class=\"navbar-item\">Report an issue</a>-->\r\n          </div>\r\n        </div>\r\n        <div class=\"level-left\">\r\n          <div class=\"level-item\">\r\n            <p class=\"subtitle is-5\"></p>\r\n          </div>\r\n          <div class=\"level-item\">\r\n            <div class=\"field has-addons\">\r\n              <p class=\"control\">\r\n                <input class=\"input\" type=\"text\" placeholder=\"Find a post\" v-model=\"Search\"/>\r\n              </p>\r\n              <p class=\"control\">\r\n                <button class=\"button\" @click=\"searchPosts\">搜索</button>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"navbar-end\" v-if=\"!$store.state.isLogin\">\r\n        <div class=\"navbar-item\">\r\n          <div class=\"buttons\">\r\n            <b-button type=\"is-info\" outlined @click=\"register\">注册</b-button>\r\n            <div class=\"navbar-menu\">\r\n              <div class=\"navbar-end\">\r\n                <b-dropdown position=\"is-bottom-left\" aria-role=\"menu\" trap-focus>\r\n                  <a class=\"navbar-item\" slot=\"trigger\" role=\"button\">\r\n                    <b-button type=\"is-info\" outlined>登录</b-button>\r\n                  </a>\r\n\r\n                  <b-dropdown-item aria-role=\"menu-item\" :focusable=\"false\" custom paddingless>\r\n                    <div class=\"modal-card\" style=\"width:300px;\">\r\n                      <section class=\"modal-card-body\">\r\n                        <b-field label=\"用户账户\">\r\n                          <b-input type=\"text\" v-model=\"userAccount\" placeholder=\"请输入您的账户\" required></b-input>\r\n                        </b-field>\r\n\r\n                        <b-field label=\"密码\">\r\n                          <b-input\r\n                              type=\"password\"\r\n                              password-reveal\r\n                              placeholder=\"Your password\"\r\n                              required\r\n                              v-model=\"userPassword\"\r\n                          ></b-input>\r\n                        </b-field>\r\n\r\n                        <b-checkbox>记住我</b-checkbox>\r\n                      </section>\r\n                      <footer class=\"modal-card-foot\">\r\n                        <button class=\"button is-primary\" @click=\"login\">登录</button>\r\n                      </footer>\r\n                    </div>\r\n                  </b-dropdown-item>\r\n                </b-dropdown>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"navbar-brand\" v-else-if=\"$store.state.isLogin\">\r\n        <div  class=\"navbar-item\">\r\n\r\n          <el-row gutter=\"50\">\r\n            <el-col :span=\"6\">\r\n              <!--              <el-avatar :size=\"30\" src=\"https://empty\" @error=\"errorHandler\">\r\n                              <img :src=\"(`${$store.state.user.avatar_url}`)\" class=\"el-avatar&#45;&#45;circle\"/>\r\n                            </el-avatar>-->\r\n              <img :src=\"(`${$store.state.user.avatar_url}`)\" sizes=\"40\" class=\"el-avatar--circle\" onerror=\"this.src='http://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png';this.οnerrοr=null\"/>\r\n            </el-col>\r\n            <el-col :span=\"8\"><h2>{{ $store.state.user.user_name }}</h2></el-col>\r\n            <el-col :span=\"4\">\r\n              <el-button size=\"small\" round type=\"primary\" @click=\"logout\"><i class=\"fas fa-sign-out-alt\">登出</i></el-button>\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nimport {userLogin} from \"@/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      userAccount: \"\",\r\n      userPassword: \"\",\r\n      Search: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    getMainPosts(){\r\n      this.$router.push(\"/\");\r\n    },\r\n    errorHandler() {\r\n      return true\r\n    },\r\n    searchPosts(){\r\n      this.$router.push({\r\n        path: \"/allsearchhome\",\r\n        query: {\r\n          search: JSON.stringify(this.Search)\r\n        }\r\n      });\r\n    },\r\n    allart() {\r\n      this.$router.push(\"/allarticlehome\");\r\n    },\r\n    manager(){\r\n      this.$router.push(\"/backstagehome\");\r\n    }\r\n    ,\r\n    logout() {\r\n      this.$store.commit(\"logout\");\r\n    },\r\n    userhome() {\r\n      this.$router.push(\"/userhome\");\r\n    },\r\n    login() {\r\n      userLogin(this.userAccount, this.userPassword)\r\n          .then(res => {\r\n            const {data} = res;\r\n            this.user = data;\r\n            console.log(data);\r\n            if (data != null) {\r\n              this.$store.dispatch(\"aLogin\", {\r\n                user: data,\r\n                message: \"用户登录\",\r\n                success: () => {\r\n                  if(this.$store.state.user.user_role===1){\r\n                    this.$router.push(\"backstagehome\");\r\n                  }\r\n                  console.log(\"欢迎您\");\r\n                }\r\n              });\r\n            } else {\r\n              alert(\"该用户不存在\");\r\n            }\r\n          })\r\n          .catch(() => {\r\n          });\r\n    },\r\n    register() {\r\n      this.$router.push(\"/registerhome\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Top.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Top.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Top.vue?vue&type=template&id=4c4bd39c&\"\nimport script from \"./Top.vue?vue&type=script&lang=js&\"\nexport * from \"./Top.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/titlelogo.73ff1d0b.png\";"],"sourceRoot":""}