(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-929a08b6"],{"0dc0":function(e,t,r){"use strict";var l=r("d586"),o=r.n(l);o.a},"6e69":function(e,t,r){"use strict";r.r(t);var l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dormitory"},[r("div",{staticClass:"searchWord"},[r("p",[e._v(" 搜索: "),r("el-input",{staticStyle:{display:"inline-block",width:"300px"},attrs:{placeholder:"请输入搜索内容"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]),r("div",{staticClass:"dormitoryData"},[r("el-table",{ref:"dormitoryTable",staticStyle:{width:"100%"},attrs:{data:e.tables,height:"500"}},[r("el-table-column",{attrs:{align:"center",prop:"id",label:"用户id",width:"70"}}),r("el-table-column",{attrs:{align:"center",prop:"user_name",label:"用户名",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEdit?r("div",[r("el-input",{model:{value:t.row.user_name,callback:function(r){e.$set(t.row,"user_name",r)},expression:"scope.row.user_name"}})],1):r("div",[e._v(e._s(t.row.user_name))])]}}])}),r("el-table-column",{attrs:{align:"center",prop:"user_account",label:"用户账户",width:"130"}}),r("el-table-column",{attrs:{label:"用户头像",width:"140"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("img",{staticClass:"el-avatar--circle",attrs:{src:""+e.row.avatar_url,onerror:"this.src='http://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png';this.οnerrοr=null"}})]}}])}),r("el-table-column",{attrs:{align:"center",prop:"gender",label:"用户性别",formatter:e.genderFormat,sortable:"",width:"130","column-key":"num"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEdit?r("div",[r("el-select",{attrs:{placeholder:"性别"},model:{value:t.row.gender,callback:function(r){e.$set(t.row,"gender",r)},expression:"scope.row.gender"}},[r("el-option",{attrs:{label:"男",value:"0"}}),r("el-option",{attrs:{label:"女",value:"1"}})],1)],1):r("div",[e._v(e._s(0==t.row.gender?"男":"女"))])]}}])}),r("el-table-column",{attrs:{align:"center",prop:"phone",label:"用户电话",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEdit?r("div",[r("el-input",{model:{value:t.row.phone,callback:function(r){e.$set(t.row,"phone",r)},expression:"scope.row.phone"}})],1):r("div",[e._v(e._s(t.row.phone))])]}}])}),r("el-table-column",{attrs:{align:"center",prop:"email",label:"用户邮箱",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEdit?r("div",[r("el-input",{model:{value:t.row.email,callback:function(r){e.$set(t.row,"email",r)},expression:"scope.row.email"}})],1):r("div",[e._v(e._s(t.row.email))])]}}])}),r("el-table-column",{attrs:{align:"center",prop:"user_role",label:"用户角色",formatter:e.roleFormat,sortable:"",width:"130","column-key":"num"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEdit?r("div",[r("el-select",{attrs:{placeholder:"用户角色"},model:{value:t.row.user_role,callback:function(r){e.$set(t.row,"user_role",r)},expression:"scope.row.user_role"}},[r("el-option",{attrs:{label:"普通用户",value:"0"}}),r("el-option",{attrs:{label:"管理员",value:"1"}})],1)],1):r("div",[e._v(e._s(0==t.row.user_role?"用户":"管理员"))])]}}])}),r("el-table-column",{attrs:{align:"center",prop:"user_status",label:"账户状态",formatter:e.statusFormat,sortable:"",width:"130","column-key":"num"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEdit?r("div",[r("el-select",{attrs:{placeholder:"账户状态"},model:{value:t.row.user_role,callback:function(r){e.$set(t.row,"user_role",r)},expression:"scope.row.user_role"}},[r("el-option",{attrs:{label:"正常",value:"0"}}),r("el-option",{attrs:{label:"异常",value:"1"}})],1)],1):r("div",[e._v(e._s(0==t.row.user_status?"正常":"异常"))])]}}])}),r("el-table-column",{attrs:{align:"center",prop:"creat_time",label:"创建日期",sortable:"",width:"180","column-key":"date"}}),r("el-table-column",{attrs:{align:"center",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.handleClick(t.row)}}},[e._v(e._s(t.row.isEdit?"完成":"编辑"))]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])],1)]}}])})],1)],1)])},o=[],s=r("365c"),a=r("2c4e"),n={data(){return{search:"",user:[{id:0,user_name:"",user_account:"",avatar_url:"",gender:0,phone:"",email:"",user_role:0,user_status:0,creat_time:"",update_time:""}]}},created(){const e=this.$store.state.user.token;Object(s["s"])(e).then(e=>{this.user=e.data}).catch()},methods:{handleClick(e){if(e.isEdit){this.$delete(e,"isEdit");const t=e.id,r=e.user_name,l=e.gender,o=e.phone,n=e.email,i=e.user_role,u=e.user_status,c=this.$store.state.user.token;Object(s["x"])(t,r,l,o,n,i,u,c).then(e=>{2e3===e.code?a["a"].open({message:"更新成功!",position:"is-top"}):a["a"].open({message:"更新失败",position:"is-top"})})}else this.$set(e,"isEdit",!0);console.log(this.tableData)},roleFormat(e){return 0===e.user_role?"普通用户":1===e.user_role?"管理员":void 0},genderFormat(e){return 0===e.gender?"男":"女"},statusFormat(e){return 0===e.user_status?"正常":"异常"},handleEdit(e,t){console.log(e,t)},handleDelete(e,t){const r=t.id;Object(s["d"])(r,this.$store.state.user.token).then(e=>{2e3===e.code?a["a"].open({message:"删除成功!",position:"is-top"}):a["a"].open({message:"删除失败",position:"is-top"})}),console.log(e,t),this.user.splice(e,1)}},computed:{tables(){const e=this.search;return e?this.user.filter(t=>{return Object.keys(t).some(r=>{return String(t[r]).toLowerCase().indexOf(e)>-1})}):this.user}}},i=n,u=(r("0dc0"),r("2877")),c=Object(u["a"])(i,l,o,!1,null,"1f4e23dd",null);t["default"]=c.exports},d586:function(e,t,r){}}]);
//# sourceMappingURL=chunk-929a08b6.ec0f6a54.js.map