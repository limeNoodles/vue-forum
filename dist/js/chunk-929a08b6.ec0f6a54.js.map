{"version":3,"sources":["webpack:///./src/components/backstagehome/UserManger.vue?fefb","webpack:///./src/components/backstagehome/UserManger.vue?56aa","webpack:///src/components/backstagehome/UserManger.vue","webpack:///./src/components/backstagehome/UserManger.vue?785b","webpack:///./src/components/backstagehome/UserManger.vue?f05d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","staticStyle","attrs","model","value","callback","$$v","search","expression","ref","tables","scopedSlots","_u","key","fn","scope","row","isEdit","$set","_s","user_name","genderFormat","gender","phone","email","roleFormat","user_role","statusFormat","user_status","on","$event","handleClick","handleDelete","$index","staticRenderFns","user","id","user_account","avatar_url","creat_time","update_time","token","$store","state","then","res","data","catch","methods","$delete","userName","userRole","userStatus","code","open","message","position","console","log","tableData","index","splice","computed","filter","Object","keys","some","String","toLowerCase","indexOf","component"],"mappings":"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","file":"js/chunk-929a08b6.ec0f6a54.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManger.vue?vue&type=style&index=0&id=1f4e23dd&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManger.vue?vue&type=style&index=0&id=1f4e23dd&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dormitory\"},[_c('div',{staticClass:\"searchWord\"},[_c('p',[_vm._v(\" 搜索: \"),_c('el-input',{staticStyle:{\"display\":\"inline-block\",\"width\":\"300px\"},attrs:{\"placeholder\":\"请输入搜索内容\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)]),_c('div',{staticClass:\"dormitoryData\"},[_c('el-table',{ref:\"dormitoryTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tables,\"height\":\"500\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"id\",\"label\":\"用户id\",\"width\":\"70\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"user_name\",\"label\":\"用户名\",\"width\":\"130\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!scope.row.isEdit)?_c('div',[_vm._v(_vm._s(scope.row.user_name))]):_c('div',[_c('el-input',{model:{value:(scope.row.user_name),callback:function ($$v) {_vm.$set(scope.row, \"user_name\", $$v)},expression:\"scope.row.user_name\"}})],1)]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"user_account\",\"label\":\"用户账户\",\"width\":\"130\"}}),_c('el-table-column',{attrs:{\"label\":\"用户头像\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticClass:\"el-avatar--circle\",attrs:{\"src\":((\"\" + (scope.row.avatar_url))),\"onerror\":\"this.src='http://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png';this.οnerrοr=null\"}})]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"gender\",\"label\":\"用户性别\",\"formatter\":_vm.genderFormat,\"sortable\":\"\",\"width\":\"130\",\"column-key\":\"num\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!scope.row.isEdit)?_c('div',[_vm._v(_vm._s(scope.row.gender ==0?\"男\":\"女\"))]):_c('div',[_c('el-select',{attrs:{\"placeholder\":\"性别\"},model:{value:(scope.row.gender),callback:function ($$v) {_vm.$set(scope.row, \"gender\", $$v)},expression:\"scope.row.gender\"}},[_c('el-option',{attrs:{\"label\":\"男\",\"value\":\"0\"}}),_c('el-option',{attrs:{\"label\":\"女\",\"value\":\"1\"}})],1)],1)]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"phone\",\"label\":\"用户电话\",\"width\":\"130\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!scope.row.isEdit)?_c('div',[_vm._v(_vm._s(scope.row.phone))]):_c('div',[_c('el-input',{model:{value:(scope.row.phone),callback:function ($$v) {_vm.$set(scope.row, \"phone\", $$v)},expression:\"scope.row.phone\"}})],1)]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"email\",\"label\":\"用户邮箱\",\"width\":\"130\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!scope.row.isEdit)?_c('div',[_vm._v(_vm._s(scope.row.email))]):_c('div',[_c('el-input',{model:{value:(scope.row.email),callback:function ($$v) {_vm.$set(scope.row, \"email\", $$v)},expression:\"scope.row.email\"}})],1)]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"user_role\",\"label\":\"用户角色\",\"formatter\":_vm.roleFormat,\"sortable\":\"\",\"width\":\"130\",\"column-key\":\"num\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!scope.row.isEdit)?_c('div',[_vm._v(_vm._s(scope.row.user_role ==0?\"用户\":\"管理员\"))]):_c('div',[_c('el-select',{attrs:{\"placeholder\":\"用户角色\"},model:{value:(scope.row.user_role),callback:function ($$v) {_vm.$set(scope.row, \"user_role\", $$v)},expression:\"scope.row.user_role\"}},[_c('el-option',{attrs:{\"label\":\"普通用户\",\"value\":\"0\"}}),_c('el-option',{attrs:{\"label\":\"管理员\",\"value\":\"1\"}})],1)],1)]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"user_status\",\"label\":\"账户状态\",\"formatter\":_vm.statusFormat,\"sortable\":\"\",\"width\":\"130\",\"column-key\":\"num\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!scope.row.isEdit)?_c('div',[_vm._v(_vm._s(scope.row.user_status ==0?\"正常\":\"异常\"))]):_c('div',[_c('el-select',{attrs:{\"placeholder\":\"账户状态\"},model:{value:(scope.row.user_role),callback:function ($$v) {_vm.$set(scope.row, \"user_role\", $$v)},expression:\"scope.row.user_role\"}},[_c('el-option',{attrs:{\"label\":\"正常\",\"value\":\"0\"}}),_c('el-option',{attrs:{\"label\":\"异常\",\"value\":\"1\"}})],1)],1)]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"creat_time\",\"label\":\"创建日期\",\"sortable\":\"\",\"width\":\"180\",\"column-key\":\"date\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleClick(scope.row)}}},[_vm._v(_vm._s(scope.row.isEdit ? '完成' : '编辑'))]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])],1)]}}])})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"dormitory\">\r\n<!--  <div class=\"tile is-ancestor\">\r\n    <div class=\"tile is-parent\" v-for=\"(item,i) in user\" :key=\"i\">\r\n      <article class=\"tile is-child box\">\r\n        <p class=\"subtitle\" style=\"height:50px;width:300px\">用户名：{{item.user_name}}</p>\r\n        <p class=\"subtitle\">邮箱：{{item.email}}</p>\r\n        <p class=\"subtitle\">\r\n          头像：\r\n          <img :src=\"(`${item.avatar_url}`)\" class=\"el-avatar&#45;&#45;circle\" onerror=\"this.src='http://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png';this.οnerrοr=null\"/>\r\n        </p>\r\n        <p class=\"subtitle\">电话：{{item.phone}}</p>\r\n      </article>\r\n    </div>\r\n  </div>-->\r\n  <div class=\"searchWord\" >\r\n    <p>\r\n    搜索:  <el-input v-model=\"search\" style=\"display: inline-block;width: 300px\"\r\n              placeholder=\"请输入搜索内容\">\r\n    </el-input></p>\r\n  </div>\r\n    <div class=\"dormitoryData\">\r\n  <el-table ref=\"dormitoryTable\" :data=\"tables\"  height=\"500\" style=\"width: 100%\" >\r\n    <el-table-column align=\"center\" prop=\"id\"  label=\"用户id\" width=\"70\"></el-table-column>\r\n    <el-table-column align=\"center\" prop=\"user_name\" label=\"用户名\"  width=\"130\" >\r\n      <template slot-scope=\"scope\">\r\n        <div v-if=\"!scope.row.isEdit\">{{ scope.row.user_name }}</div>\r\n        <div v-else>\r\n          <el-input v-model=\"scope.row.user_name\"></el-input>\r\n        </div>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column align=\"center\" prop=\"user_account\" label=\"用户账户\"  width=\"130\" ></el-table-column>\r\n    <el-table-column label=\"用户头像\" width=\"140\">\r\n      <template slot-scope=\"scope\">\r\n        <img :src=\"(`${scope.row.avatar_url}`)\" class=\"el-avatar--circle\" onerror=\"this.src='http://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png';this.οnerrοr=null\"/>\r\n      </template>\r\n    </el-table-column>\r\n\r\n    <el-table-column align=\"center\" prop=\"gender\" label=\"用户性别\" :formatter=\"genderFormat\" sortable width=\"130\" column-key=\"num\">\r\n      <template slot-scope=\"scope\">\r\n        <div v-if=\"!scope.row.isEdit\">{{ scope.row.gender ==0?\"男\":\"女\"}}</div>\r\n        <div v-else>\r\n          <el-select v-model=\"scope.row.gender\" placeholder=\"性别\">\r\n            <el-option label=\"男\" value=\"0\"></el-option>\r\n            <el-option label=\"女\" value=\"1\"></el-option>\r\n          </el-select>\r\n<!--          <el-input v-model=\"scope.row.gender\"></el-input>-->\r\n        </div>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column align=\"center\" prop=\"phone\" label=\"用户电话\"  width=\"130\" >\r\n      <template slot-scope=\"scope\">\r\n        <div v-if=\"!scope.row.isEdit\">{{ scope.row.phone }}</div>\r\n        <div v-else>\r\n          <el-input v-model=\"scope.row.phone\"></el-input>\r\n        </div>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column align=\"center\" prop=\"email\" label=\"用户邮箱\"  width=\"130\" >\r\n      <template slot-scope=\"scope\">\r\n        <div v-if=\"!scope.row.isEdit\">{{ scope.row.email }}</div>\r\n        <div v-else>\r\n          <el-input v-model=\"scope.row.email\"></el-input>\r\n        </div>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column align=\"center\" prop=\"user_role\" label=\"用户角色\" :formatter=\"roleFormat\" sortable width=\"130\" column-key=\"num\">\r\n      <template slot-scope=\"scope\">\r\n        <div v-if=\"!scope.row.isEdit\">{{ scope.row.user_role ==0?\"用户\":\"管理员\"}}</div>\r\n        <div v-else>\r\n<!--          <el-input v-model=\"scope.row.user_role\"></el-input>-->\r\n          <el-select v-model=\"scope.row.user_role\" placeholder=\"用户角色\">\r\n            <el-option label=\"普通用户\" value=\"0\"></el-option>\r\n            <el-option label=\"管理员\" value=\"1\"></el-option>\r\n          </el-select>\r\n        </div>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column align=\"center\" prop=\"user_status\" label=\"账户状态\" :formatter=\"statusFormat\" sortable width=\"130\" column-key=\"num\">\r\n      <template slot-scope=\"scope\">\r\n        <div v-if=\"!scope.row.isEdit\">{{ scope.row.user_status ==0?\"正常\":\"异常\"}}</div>\r\n        <div v-else>\r\n<!--          <el-input v-model=\"scope.row.user_status\"></el-input>-->\r\n          <el-select v-model=\"scope.row.user_role\" placeholder=\"账户状态\">\r\n            <el-option label=\"正常\" value=\"0\"></el-option>\r\n            <el-option label=\"异常\" value=\"1\"></el-option>\r\n          </el-select>\r\n        </div>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column align=\"center\" prop=\"creat_time\" label=\"创建日期\" sortable width=\"180\" column-key=\"date\"></el-table-column>\r\n<!--    <el-table-column prop=\"update_time\" label=\"最后更新日期\" sortable width=\"180\" column-key=\"date\"></el-table-column>-->\r\n    <el-table-column align=\"center\" label=\"操作\" width=\"180\">\r\n      <template slot-scope=\"scope\">\r\n        <p>\r\n          <el-button size=\"mini\" @click=\"handleClick(scope.row)\">{{ scope.row.isEdit ? '完成' : '编辑' }}</el-button>\r\n        <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n        </p>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport {deleteUser, getuserlist, updateUser} from \"@/api\";\r\nimport {SnackbarProgrammatic as Snackbar} from \"buefy\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      search:\"\",\r\n      user: [\r\n        {\r\n          id: 0,\r\n          user_name: \"\",\r\n          user_account: \"\",\r\n          avatar_url: \"\",\r\n          gender: 0,\r\n          phone: \"\",\r\n          email: \"\",\r\n          user_role: 0,\r\n          user_status: 0,\r\n          creat_time: \"\",\r\n          update_time: \"\",\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  created() {\r\n    const token = this.$store.state.user.token;\r\n    getuserlist(token)\r\n      .then(res => {\r\n        this.user = res.data;\r\n      })\r\n      .catch();\r\n   /* this.$nextTick(() => {\r\n      this.$refs.filterTable.doLayout();\r\n    });*/\r\n  },\r\n  methods:{\r\n    handleClick(row) {\r\n      // 动态设置数据并通过这个数据判断显示方式\r\n      if (row.isEdit) {\r\n        // 2022.8.31 更新\r\n        // 其实我们想要取消编辑状态的话不需要用下面这步\r\n        // 直接使用 row.isEdit = false 就行\r\n        // 因为 this.$set 后 isEdit 字段已经被 Vue 加上了响应式\r\n        this.$delete(row, 'isEdit')\r\n        const  id = row.id,userName = row.user_name,gender = row.gender,phone = row.phone, email = row.email,\r\n            userRole= row.user_role,userStatus = row.user_status,token = this.$store.state.user.token;\r\n        updateUser(id,userName,gender,phone,email,userRole,userStatus,token).then(res=>{\r\n           if(res.code === 2000){Snackbar.open({message:\"更新成功!\",position: 'is-top'});}\r\n          else{  Snackbar.open({message:\"更新失败\",position: 'is-top'});}\r\n        });\r\n      } else {\r\n        this.$set(row, 'isEdit', true);\r\n      }\r\n\r\n      console.log(this.tableData)\r\n    },\r\n\r\n    roleFormat(row) {\r\n      if (row.user_role === 0) {\r\n        return '普通用户'\r\n      } else  if (row.user_role === 1){\r\n        return '管理员'\r\n      }\r\n    },\r\n    genderFormat(row) {\r\n      if (row.gender === 0) {\r\n        return '男'\r\n      } else  {\r\n        return '女'\r\n      }\r\n    },\r\n    statusFormat(row) {\r\n      if (row.user_status === 0) {\r\n        return '正常'\r\n      } else  {\r\n        return '异常'\r\n      }\r\n    },\r\n    handleEdit(index, row) {\r\n      console.log(index, row);\r\n    },\r\n    handleDelete(index, row) {\r\n      const id = row.id;\r\n      deleteUser(id,this.$store.state.user.token).then(res=>{\r\n        if(res.code ===2000){\r\n          Snackbar.open({message:\"删除成功!\",position: 'is-top'});\r\n          //this.reload();\r\n        }else {\r\n          Snackbar.open({message:\"删除失败\",position: 'is-top'});\r\n        }\r\n      });\r\n      console.log(index, row);\r\n     this.user.splice(index,1);\r\n\r\n    },\r\n  },\r\n  computed: {\r\n    // 模糊搜索\r\n    tables () {\r\n      const search = this.search\r\n      if (search) {\r\n        // filter() 方法创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。\r\n        // 注意： filter() 不会对空数组进行检测。\r\n        // 注意： filter() 不会改变原始数组。\r\n        return this.user.filter(data => {\r\n          // some() 方法用于检测数组中的元素是否满足指定条件;\r\n          // some() 方法会依次执行数组的每个元素：\r\n          // 如果有一个元素满足条件，则表达式返回true , 剩余的元素不会再执行检测;\r\n          // 如果没有满足条件的元素，则返回false。\r\n          // 注意： some() 不会对空数组进行检测。\r\n          // 注意： some() 不会改变原始数组。\r\n          return Object.keys(data).some(key => {\r\n            // indexOf() 返回某个指定的字符在某个字符串中首次出现的位置，如果没有找到就返回-1；\r\n            // 该方法对大小写敏感！所以之前需要toLowerCase()方法将所有查询到内容变为小写。\r\n            return String(data[key]).toLowerCase().indexOf(search) > -1\r\n          })\r\n        })\r\n      }\r\n      return this.user\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.size {\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManger.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManger.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserManger.vue?vue&type=template&id=1f4e23dd&scoped=true&\"\nimport script from \"./UserManger.vue?vue&type=script&lang=js&\"\nexport * from \"./UserManger.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserManger.vue?vue&type=style&index=0&id=1f4e23dd&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f4e23dd\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}